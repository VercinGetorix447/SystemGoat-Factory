# Claude Code Project Instructions

## START OF EVERY SESSION: Review SESSION-NOTES + DB

**MANDATORY FIRST ACTION - Do this before anything else:**

```bash
# 1. Read the session notes
cat SESSION-NOTES.md

# 2. Query database for context
cd data && node query-db.mjs query "SELECT * FROM conversations ORDER BY id DESC LIMIT 3"
node query-db.mjs query "SELECT * FROM entities"
node query-db.mjs query "SELECT * FROM insights ORDER BY id DESC LIMIT 5"
```

Then update SESSION-NOTES.md as you work (every ~5 minutes)

## Session Save Protocol

**Save progress frequently:**
- Update `SESSION-NOTES.md` every 5 minutes or after major tasks
- Before ending: summarize what was done and what's next
- Log key decisions to the database:
  ```bash
  node data/query-db.mjs run "INSERT INTO insights (category, content, importance) VALUES ('decision', 'description here', 7)"
  ```

## Project Overview

This is a Claude Code workspace with persistent memory via SQLite.

### Key Files
- `SESSION-NOTES.md` - Live session tracking (UPDATE THIS)
- `data/workspace.db` - SQLite database for persistent memory
- `data/query-db.mjs` - Database query utility
- `data/init-db.mjs` - Database schema/init script

### Database Schema
- `conversations` - Session summaries
- `entities` - People, projects, concepts to remember
- `insights` - Key learnings and decisions
- `user_preferences` - User settings

## User Preferences

- User: Troy
- Prefers: Minimal token usage, frequent saves
- Working on: Setting up MCP tools and persistent memory
