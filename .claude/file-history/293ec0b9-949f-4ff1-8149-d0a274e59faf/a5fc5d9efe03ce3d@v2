# n8n Workflow Integrations

Store n8n workflow exports here for version control and sharing.

## Setup

### Installing n8n

**Docker (Recommended)**:
```bash
docker run -it --rm \
  --name n8n \
  -p 5678:5678 \
  -v n8n_data:/home/node/.n8n \
  n8nio/n8n
```

**npm**:
```bash
npm install n8n -g
n8n start
```

Access at: http://localhost:5678

## Workflow Files

| Workflow | Purpose | Trigger |
|----------|---------|---------|
| `daily-report.json` | Generate daily summary | Schedule (6 PM) |
| `github-sync.json` | Sync repos on push | GitHub webhook |
| `api-monitor.json` | Monitor API health | Schedule (5 min) |

## Importing Workflows

1. Open n8n UI
2. Go to Workflows → Import from File
3. Select the `.json` file
4. Configure credentials
5. Activate workflow

## Exporting Workflows

1. Open workflow in n8n
2. Click menu (⋮) → Download
3. Save to this directory
4. Commit to git

## Credential Setup

Workflows require these credentials (configure in n8n):

| Credential Type | Used By | Setup |
|-----------------|---------|-------|
| GitHub OAuth | github-sync | Settings → OAuth Apps |
| HTTP Header Auth | api-monitor | API key in header |
| Webhook | all | Auto-generated by n8n |

## Claude Integration

### Triggering Claude from n8n
Use HTTP Request node to call Claude API:
```json
{
  "model": "claude-sonnet-4-20250514",
  "max_tokens": 1024,
  "messages": [{"role": "user", "content": "{{$json.prompt}}"}]
}
```

### Triggering n8n from Claude
Claude can call n8n webhooks via Bash:
```bash
curl -X POST https://your-n8n.com/webhook/xxx \
  -H "Content-Type: application/json" \
  -d '{"action": "generate-report"}'
```

## Best Practices

1. **Version control**: Always export and commit workflow changes
2. **Credentials**: Never hardcode - use n8n credential manager
3. **Error handling**: Add error workflow for failures
4. **Logging**: Use Set node to log key values
5. **Testing**: Test with manual trigger before scheduling
