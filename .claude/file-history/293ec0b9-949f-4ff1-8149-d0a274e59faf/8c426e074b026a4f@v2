# GitHub Setup Guide

Complete instructions for connecting this file cabinet to GitHub.

## Step 1: Install GitHub CLI

### Windows (PowerShell as Admin)
```powershell
winget install GitHub.cli
```

### Or download directly
https://cli.github.com/

### Verify installation
```bash
gh --version
```

---

## Step 2: Authenticate GitHub CLI

```bash
gh auth login
```

Follow prompts:
1. Select `GitHub.com`
2. Select `HTTPS`
3. Authenticate with browser
4. Authorize GitHub CLI

Verify:
```bash
gh auth status
```

---

## Step 3: Create Repository

### Option A: Create from command line
```bash
cd /mnt/c/Users/Password/Documents/ClaudeCodeProjects

# Initialize git
git init

# Create GitHub repo and push
gh repo create claude-workspace --private --source=. --push
```

### Option B: Create on GitHub first
1. Go to https://github.com/new
2. Name: `claude-workspace`
3. Visibility: Private (recommended)
4. Don't initialize with README (we have one)

Then connect:
```bash
cd /mnt/c/Users/Password/Documents/ClaudeCodeProjects
git init
git remote add origin https://github.com/YOUR_USERNAME/claude-workspace.git
git add .
git commit -m "Initial file cabinet structure"
git push -u origin main
```

---

## Step 4: Configure Git Identity

```bash
git config --global user.name "Your Name"
git config --global user.email "your.email@example.com"
```

---

## Step 5: Set Up GitHub Token for MCP

### Create Personal Access Token

1. Go to: GitHub → Settings → Developer Settings → Personal Access Tokens → Tokens (classic)
2. Click "Generate new token (classic)"
3. Name: `claude-mcp-server`
4. Expiration: 90 days (or custom)
5. Scopes:
   - `repo` (full repository access)
   - `read:org` (if using organizations)
   - `workflow` (if using GitHub Actions)
6. Generate and copy token

### Store Token Securely

**Windows (PowerShell)**:
```powershell
# Set for current session
$env:GITHUB_TOKEN = "ghp_xxxxxxxxxxxx"

# Set permanently (user level)
[System.Environment]::SetEnvironmentVariable('GITHUB_TOKEN', 'ghp_xxxxxxxxxxxx', 'User')
```

**WSL/Linux**:
```bash
# Add to ~/.bashrc or ~/.zshrc
export GITHUB_TOKEN="ghp_xxxxxxxxxxxx"

# Reload
source ~/.bashrc
```

---

## Step 6: Configure MCP GitHub Server

Add to `~/.claude/settings.json`:

```json
{
  "mcpServers": {
    "github": {
      "command": "npx",
      "args": ["-y", "@anthropic/mcp-server-github"],
      "env": {
        "GITHUB_TOKEN": "${GITHUB_TOKEN}"
      }
    }
  }
}
```

---

## Step 7: Test Connection

Restart Claude Code, then test:

```
Use gh to check repo status
```

Or with MCP:
```
List my GitHub repositories
```

---

## Daily Workflow

### Start of session
```bash
cd /mnt/c/Users/Password/Documents/ClaudeCodeProjects
git pull  # Get latest changes
```

### End of session
```bash
git add .
git commit -m "Daily update: $(date +%Y-%m-%d)"
git push
```

### Automated via Claude
```
Use the git-specialist agent to commit today's changes with a descriptive message
```

---

## GitHub Actions (Optional Automation)

Create `.github/workflows/daily-backup.yml`:

```yaml
name: Daily Backup Verification

on:
  schedule:
    - cron: '0 0 * * *'  # Midnight UTC
  push:
    branches: [main]

jobs:
  verify:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v4

      - name: Verify structure
        run: |
          test -d .claude/agents
          test -f .claude/agent-registry.md
          test -f README.md
          echo "Structure verified"

      - name: Count agents
        run: |
          count=$(ls -1 .claude/agents/*.md 2>/dev/null | wc -l)
          echo "Agent count: $count"
```

---

## Branch Strategy (Optional)

For more complex workflows:

```
main           # Stable, daily updates
├── develop    # Work in progress
└── feature/*  # Specific features
```

### Creating feature branch
```bash
git checkout -b feature/new-agent
# Make changes
git add .
git commit -m "Add new-agent for X"
git push -u origin feature/new-agent
# Create PR on GitHub
gh pr create --title "Add new agent" --body "Description"
```

---

## Troubleshooting

### Authentication issues
```bash
gh auth logout
gh auth login
```

### Push rejected
```bash
git pull --rebase
git push
```

### Wrong remote
```bash
git remote -v  # Check current
git remote set-url origin https://github.com/USER/REPO.git
```

### Large files rejected
Add to `.gitignore` or use Git LFS:
```bash
git lfs install
git lfs track "*.db"
```

---

## Security Reminders

1. **Never commit**:
   - `.env` files
   - API keys
   - Passwords
   - Private keys

2. **Use `.gitignore`** (already configured)

3. **Private repository** recommended for:
   - Personal projects
   - Work containing credentials setup docs
   - Sensitive decision records

4. **Review before push**:
   ```bash
   git diff --staged
   ```
