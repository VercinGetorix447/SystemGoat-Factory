# Session Summary — 2026-02-09

## What Was Built / Changed

### Visual Designer (`/designer`)
- Wizard reordered: Business Info (1) → Trade (2) → Layout (3) → Colors (4)
- Brand color picker aligned with other 3 pickers
- Font color picker now functional (updates `--text` + `--text-light`)
- Trade picker: flyout panel (200px, right of wizard) with 41 trades — hidden until clicked
- Flyout styles moved to `<style is:global>` (Astro scoped CSS doesn't apply to JS-created elements)
- Biz name + slogan update hero + nav logo live as-you-type (no trade required)
- Trade selection swaps images from `/images/trades/{trade-name}/1.jpg`, `2.jpg`, `3.jpg`
- Nav logo syncs with business name input

### Layout 1 (index.astro)
- Hero gallery: 3 overlapping rectangles (stacked vertically, middle shifted right)
- Smooth scroll + scroll-margin-top for anchor links
- CSS variable system: 5 bars (Background, Brand, Section Headings, Font, Accent)

### Layout 2 (layout-2.astro)
- Nav links now work — Nav.astro accepts `links` prop, Layout 2 passes its own section IDs
- IconNav sticky at top:64px (below main nav)
- scroll-margin-top on all L2 sections (140px to clear both navs)

### Nav.astro
- Accepts optional `links` prop (defaults to Layout 1 links)
- Auto-contrast text via `--nav-text` CSS variable

### Base.astro
- `scroll-behavior: smooth` on html
- `scroll-margin-top: 72px` on all `[id]` elements
- Passes `navLinks` prop through to Nav

## Trade Images (38 files across 29 trades)
**Stored in:** `public/images/trades/{trade-name}/1.jpg`
**Source on Windows:** `OneDrive/图片/Business/Website/Trades/`

Filled (29): appliance-repair, carpentry(2), carpet-cleaning, cleaning, concrete(2), deck-building(2), electrical, fencing, garage-door, garage-shelf, gutter-cleaning, hair-salon, hvac(2), insulation, junk-removal(2), landscaping, masonry, painting, personal-training, pool-cleaning(2), pressure-washing(2), remodeling, roofing(3), solar, stump-removal, sunroom, tree-trimming(2), triathlete-coaching, window-washing

Empty (12): christmas-light-install, curb-cutting, delivery, flooring, niche-rentals, pet-grooming, pet-sitting, plumbing, real-estate, steel-distribution, storage, tennis-coach

## Section Images
**Stored in:** `public/images/sections/{section-name}/1.jpg`
**Source on Windows:** `OneDrive/图片/Business/Website/Trades/Sections/`

Filled: crm(2), ai-receptionists(1), lead-generation(1), contractor-training-blog(1), footer(1)
Empty: hero, pricing-1, pricing-2, pricing-3, pricing-4

## Key Files
- `src/pages/designer.astro` — Visual Designer wizard
- `src/pages/index.astro` — Layout 1 homepage
- `src/pages/layout-2.astro` — Layout 2 (Mailbakery-style)
- `src/layouts/Base.astro` — CSS variable root, smooth scroll, navLinks passthrough
- `src/components/core/HeroGallery.astro` — 3-image overlapping hero
- `src/components/core/Nav.astro` — Configurable links, auto-contrast
- `src/components/core/IconNav.astro` — Layout 2 sticky icon nav
- `public/images/trades/` — 41 trade folders (29 filled)
- `public/images/sections/` — 10 section folders (5 filled)

## Links
- Layout 1: http://localhost:4321/
- Layout 2: http://localhost:4321/layout-2
- Designer: http://localhost:4321/designer
- Repo: https://github.com/VercinGetorix447/SystemGoat-Factory

## Session Startup — Read These First
1. This session file: `buildrightpros-template/session-2026-02-09.md`
2. BOD: `/mnt/c/Users/password/Documents/.claude/BOD.md`
3. Playbook (README): `/mnt/c/Users/password/Documents/.claude/SystemGoat-Factory/README.md`
4. Web Design: `/mnt/c/Users/password/Documents/.claude/SystemGoat-Factory/web-design.md`

## TODO Next Session
1. Wire section images into layouts (replace Unsplash URLs with local `/images/sections/` paths)
2. Unsplash fallback for 12 empty trade folders
3. Client photo upload section on designer page
4. Font color picker — repurpose (only affects body text currently)
5. AI-generated section copy per trade
6. Pricing section images (4 needed)
7. Blog.astro CSS variable conversion
8. Rename "AI Callers" to "AI Receptionists" in Layout 1 section text + nav
